import React, { useState,useEffect} from 'react'
import styles from './index.module.scss'
import right from '../../assets/right.png'
import anime from 'animejs'
export default function AffixBox({showRuleBox,showPaperBox}) {
  const [warp, setWarp] = useState(true);
  // wap 状态改变时
  useEffect(() => {
    if (warp) {
      anime({
        targets: '#affix-box',
        translateX: 0,
        duration: 1000
      });
      anime({
        targets: "#social-icon",
        rotateY: 360,
        duration: 1000
      })
    } else {
      anime({
        targets: '#affix-box',
        translateX: 100,
        duration: 1000
      });
      anime({
        targets: "#social-icon",
        rotateY: -180,
        duration: 1000
      })
    }
  },[warp])
  function handleWarp() {
    setWarp(!warp);
    
  }
  return (
    <div className={styles.container} id="affix-box">
      <span className={styles.warpBtn} onClick={handleWarp}>
        <img src={right} alt="" id="social-icon"/>
      </span>
      <div onClick={showRuleBox}>
        <svg t="1636212811376" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18480" width="200" height="200"><path d="M693.8 63.7H208.9C142 63.7 87.7 118 87.7 184.9v654.3c0 66.9 54.3 121.2 121.2 121.2H815c66.9 0 121.2-54.3 121.2-121.2V306.1L693.8 63.7z m181.9 775.5c0 33.4-27.2 60.6-60.6 60.6H208.9c-33.5 0-60.6-27.2-60.6-60.6V184.8c0-33.5 27.1-60.6 60.6-60.6H602c-0.5 72.6 0.9 181.8 0.9 181.8 0 67 54.3 90.9 121.2 90.9h151.5v442.3zM724.1 336.4c-33.5 0-60.6-27.1-60.6-60.6V124.2l212.1 212.1H724.1z m0 0" fill="#333333" p-id="18481"></path><path d="M693.9 513H330.2c-16.7 0-30.3 13.5-30.3 30.3s13.6 30.3 30.3 30.3h363.7c16.7 0 30.3-13.6 30.3-30.3-0.1-16.7-13.6-30.3-30.3-30.3z m0 0M693.9 664.6H330.2c-16.7 0-30.3 13.5-30.3 30.3s13.6 30.3 30.3 30.3h363.7c16.7 0 30.3-13.6 30.3-30.3-0.1-16.8-13.6-30.3-30.3-30.3z m0 0" fill="#333333" p-id="18482"></path></svg>
        <span>教程</span>
      </div>
      <div onClick={showPaperBox}>
        <svg t="1636213366254" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18818" width="200" height="200"><path d="M954.480668 0.000401a33.555333 33.555333 0 0 0-33.635609 33.555334v580.39488a204.141657 204.141657 0 0 0-102.110966-34.036988c-62.374388-4.816555-131.090573 12.282215-193.384685 48.16555S513.926435 714.456064 486.953727 770.649206c-29.059882 60.528041-29.621813 120.413876-1.525242 169.061081s80.275917 78.028191 147.627411 83.246126q10.435869 0.802759 21.032291 0.802759a350.645206 350.645206 0 0 0 172.352394-48.888033c62.294112-35.883335 111.422973-86.617715 138.475957-142.971409a211.36649 211.36649 0 0 0 22.156153-88.303508 33.153954 33.153954 0 0 0 1.123863-8.027592V33.555735a33.555333 33.555333 0 0 0-33.715886-33.555334z m-50.333 803.160551c-21.192842 44.23203-60.768869 84.691093-111.422973 113.83125s-105.562831 43.108167-154.852244 39.3352c-44.312306-3.451864-77.947916-21.112566-94.56503-49.851345s-15.252424-66.629011 3.93352-106.606418c21.192842-44.23203 60.768869-84.691093 111.422973-113.83125a282.651504 282.651504 0 0 1 138.556233-40.137959c5.378486 0 10.756973 0 16.055183 0.642208 44.312306 3.451864 77.947916 21.112566 94.565031 49.851344s15.493252 66.789563-3.612417 106.76697zM67.91344 141.847947h543.227131a32.110367 32.110367 0 0 0 0-64.220734H67.91344a32.110367 32.110367 0 0 0 0 64.220734zM67.91344 353.696092h543.227131a32.110367 32.110367 0 0 0 0-64.220734H67.91344a32.110367 32.110367 0 0 0 0 64.220734zM67.91344 570.681896h446.89603a32.110367 32.110367 0 0 0 0-64.220734H67.91344a32.110367 32.110367 0 0 0 0 64.220734zM308.741191 711.806958H67.91344a32.110367 32.110367 0 0 0 0 64.220734h240.827751a32.110367 32.110367 0 0 0 0-64.220734z" p-id="18819"></path></svg>
        <span>乐谱</span>
      </div>
    </div>
  )
}
